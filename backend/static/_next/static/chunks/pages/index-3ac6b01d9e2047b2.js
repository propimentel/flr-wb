(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8884)}])},8884:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(7876),n=r(7328),a=r.n(n),o=r(6558),i=r(4232),l=r(6872),c=r(485);class d{async addStrokeChunk(e){try{let t=(0,c.rJ)(this.firestore,"boards/".concat(e.boardId,"/strokes"));await (0,c.gS)(t,e)}catch(e){throw console.error("Error adding stroke chunk:",e),e}}subscribeToStrokes(e,t){let r=(0,c.rJ)(this.firestore,"boards/".concat(e,"/strokes")),s=(0,c.P)(r,(0,c.My)("timestamp","asc"));return(0,c.aQ)(s,e=>{let r=[];e.forEach(e=>{let t=e.data();r.push({id:e.id,boardId:t.boardId,uid:t.uid,timestamp:t.timestamp,points:t.points,color:t.color,size:t.size,chunkIndex:t.chunkIndex,strokeComplete:t.strokeComplete})}),t(r)},e=>{console.error("Error listening to strokes:",e)})}generateStrokeId(){return"stroke_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}constructor(){this.firestore=(0,l.ru)()}}let u=(e,t)=>{let r,s,n=t.getBoundingClientRect(),a=t.width/n.width,o=t.height/n.height;if("touches"in e){let t=e.touches[0]||e.changedTouches[0];r=t.clientX,s=t.clientY}else r=e.clientX,s=e.clientY;return{x:(r-n.left)*a,y:(s-n.top)*o}},h=(e,t,r,s)=>{if(!(t.length<2)){if(e.strokeStyle=r,e.lineWidth=s,e.lineCap="round",e.lineJoin="round",e.beginPath(),2===t.length)e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y);else{e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length-1;r++){let s={x:(t[r].x+t[r+1].x)/2,y:(t[r].y+t[r+1].y)/2};e.quadraticCurveTo(t[r].x,t[r].y,s.x,s.y)}let r=t[t.length-1],s=t[t.length-2];e.quadraticCurveTo(s.x,s.y,r.x,r.y)}e.stroke()}},x=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e.length<=1)return e;let r=[e[0]];for(let s=1;s<e.length;s++)x(r[r.length-1],e[s])>=t&&r.push(e[s]);return r[r.length-1]!==e[e.length-1]&&r.push(e[e.length-1]),r},p=e=>{let t=e.getBoundingClientRect(),r=window.devicePixelRatio||1;e.width=t.width*r,e.height=t.height*r;let s=e.getContext("2d");s&&s.scale(r,r)},f=e=>{let t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height)},g=e=>{let{boardId:t}=e,r=(0,i.useRef)(null),n=(0,i.useRef)(null),a=(0,i.useRef)(new d),o=(0,l.kK)()||"anonymous",c=(0,i.useRef)(null),[x,g]=(0,i.useState)({penSize:5,color:"#000000"}),[b,j]=(0,i.useState)({isDrawing:!1,currentStroke:[],currentStrokeId:null,chunkIndex:0}),[w,y]=(0,i.useState)([]);(0,i.useEffect)(()=>{r.current&&!n.current&&(n.current=document.createElement("canvas"))},[]),(0,i.useEffect)(()=>{let e=()=>{r.current&&(p(r.current),n.current&&p(n.current),k())};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);let k=(0,i.useCallback)(()=>{if(!r.current||!n.current)return;let e=r.current.getContext("2d"),t=n.current.getContext("2d");e&&t&&(f(r.current),f(n.current),w.forEach(e=>{h(t,e.points,e.color,e.size)}),e.drawImage(n.current,0,0))},[w]),v=(0,i.useCallback)(()=>{if(!r.current||!b.isDrawing||b.currentStroke.length<2)return;let e=r.current.getContext("2d");e&&(n.current&&(e.clearRect(0,0,r.current.width,r.current.height),e.drawImage(n.current,0,0)),h(e,b.currentStroke,x.color,x.penSize))},[b,x]);(0,i.useEffect)(()=>{if(b.isDrawing){let e=()=>{v(),c.current=requestAnimationFrame(e)};c.current=requestAnimationFrame(e)}else c.current&&(cancelAnimationFrame(c.current),c.current=null);return()=>{c.current&&cancelAnimationFrame(c.current)}},[b.isDrawing,v]);let N=(0,i.useCallback)(e=>{if(!r.current)return;e.preventDefault();let t=u(e.nativeEvent,r.current);j(e=>({...e,isDrawing:!0,currentStroke:[t],currentStrokeId:a.current.generateStrokeId(),chunkIndex:0}))},[]),S=(0,i.useCallback)(e=>{if(!r.current||!b.isDrawing)return;let t=u(e.nativeEvent,r.current);j(e=>{let r=[...e.currentStroke,t];return{...e,currentStroke:m(r)}})},[b.isDrawing]),C=(0,i.useCallback)(()=>{if(!r.current)return;let e={id:"",boardId:t,uid:o,timestamp:Date.now(),points:b.currentStroke,color:x.color,size:x.penSize,chunkIndex:b.chunkIndex,strokeComplete:!0};j(e=>({...e,isDrawing:!1,currentStroke:[],currentStrokeId:null,chunkIndex:0})),a.current.addStrokeChunk(e).catch(console.error),y(t=>[...t,{...e,id:b.currentStrokeId||""}]),k()},[b,x,t,o,k]),E=(0,i.useCallback)(e=>{y(e),k()},[k]);return(0,i.useEffect)(()=>a.current.subscribeToStrokes(t,E),[t,E]),(0,s.jsxs)("div",{children:[(0,s.jsx)("canvas",{ref:r,onMouseDown:N,onMouseMove:S,onMouseUp:C,onMouseLeave:C,onTouchStart:N,onTouchMove:S,onTouchEnd:C,onTouchCancel:C,style:{border:"1px solid #ccc",touchAction:"none"}}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{children:["Pen Size:",(0,s.jsx)("input",{type:"range",min:"1",max:"10",value:x.penSize,onChange:e=>g({...x,penSize:Number(e.target.value)})})]}),(0,s.jsx)("input",{type:"color",value:x.color,onChange:e=>g({...x,color:e.target.value})}),(0,s.jsx)("button",{onClick:()=>{r.current&&f(r.current)},children:"Clear"})]})]})};var b=r(4250),j=r.n(b);class w{async addTextMessage(e,t,r){let s=(0,c.rJ)(this.firestore,"boards",e,"messages"),n={boardId:e,uid:t,timestamp:Date.now(),content:r,type:"text",userName:"User ".concat(t.substring(0,8),"...")};await (0,c.gS)(s,n)}async addFileMessage(e,t,r,s){let n=(0,c.rJ)(this.firestore,"boards",e,"messages"),a={boardId:e,uid:t,timestamp:Date.now(),content:s||"Shared file: ".concat(r.name),type:"file",fileMetadata:r,userName:"User ".concat(t.substring(0,8),"...")};await (0,c.gS)(n,a)}subscribeToMessages(e,t){let r=(0,c.rJ)(this.firestore,"boards",e,"messages"),s=(0,c.P)(r,(0,c.My)("timestamp","asc"));return(0,c.aQ)(s,e=>{let r=[];e.forEach(e=>{let t=e.data();r.push({id:e.id,boardId:t.boardId,uid:t.uid,timestamp:t.timestamp,content:t.content,type:t.type,fileMetadata:t.fileMetadata,userName:t.userName})}),t(r)})}async uploadFile(e,t){let r=new FormData;r.append("file",e),r.append("uid",t);try{let s=await fetch("/api/upload",{method:"POST",body:r});if(!s.ok)throw Error("Upload failed");let n=await s.json();return{id:n.id||crypto.randomUUID(),name:e.name,size:e.size,type:e.type,url:n.url||URL.createObjectURL(e),uploadedAt:Date.now(),uploadedBy:t}}catch(r){return console.error("File upload failed:",r),{id:crypto.randomUUID(),name:e.name,size:e.size,type:e.type,url:URL.createObjectURL(e),uploadedAt:Date.now(),uploadedBy:t}}}constructor(){this.firestore=(0,l.ru)()}}let y=e=>{let{content:t,children:r,position:n="top",trigger:a="hover",className:o="",delay:l=300}=e,[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),x=(0,i.useRef)(null),m=(0,i.useRef)(null),p=()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{d(!0),h(!0)},l)},f=()=>{x.current&&clearTimeout(x.current),h(!1),setTimeout(()=>d(!1),150)};(0,i.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]);let g={..."hover"===a&&{onMouseEnter:p,onMouseLeave:f},..."focus"===a&&{onFocus:p,onBlur:f},..."click"===a&&{onClick:()=>{"click"===a&&(u?f():p())}}};return(0,s.jsxs)("div",{className:"relative inline-block ".concat(o),...g,children:[r,c&&(0,s.jsxs)("div",{ref:m,className:"".concat((()=>{let e="absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm transition-opacity duration-150";switch(n){case"top":default:return"".concat(e," bottom-full left-1/2 transform -translate-x-1/2 mb-2");case"bottom":return"".concat(e," top-full left-1/2 transform -translate-x-1/2 mt-2");case"left":return"".concat(e," right-full top-1/2 transform -translate-y-1/2 mr-2");case"right":return"".concat(e," left-full top-1/2 transform -translate-y-1/2 ml-2")}})()," ").concat(u?"opacity-100":"opacity-0"),role:"tooltip","aria-label":t,children:[t,(0,s.jsx)("div",{className:(()=>{let e="absolute w-2 h-2 bg-gray-900 transform rotate-45";switch(n){case"top":default:return"".concat(e," top-full left-1/2 -translate-x-1/2 -mt-1");case"bottom":return"".concat(e," -top-1 left-1/2 -translate-x-1/2");case"left":return"".concat(e," left-full top-1/2 -translate-y-1/2 -ml-1");case"right":return"".concat(e," -left-1 top-1/2 -translate-y-1/2")}})()})]})]})};var k=r(9180),v=r(7979);let N=e=>{let{boardId:t}=e,[r,n]=(0,i.useState)({messages:[],isLoading:!1,error:null}),[a,o]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(0),x=(0,i.useRef)(new w),m=(0,i.useRef)(null),p=(0,i.useRef)(null),f=(0,l.kK)()||"anonymous",g=(0,i.useCallback)(()=>{var e;null==(e=p.current)||e.scrollIntoView({behavior:"smooth"})},[]);(0,i.useEffect)(()=>{g()},[r.messages,g]),(0,i.useEffect)(()=>x.current.subscribeToMessages(t,e=>{n(t=>({...t,messages:e,isLoading:!1}))}),[t]);let b=async e=>{if(e.trim()){n(e=>({...e,isLoading:!0}));try{await x.current.addTextMessage(t,f,e),o("")}catch(e){console.error("Failed to send message:",e),n(e=>({...e,error:"Failed to send message",isLoading:!1}))}}},N=async e=>{if(e){if(u>=5)return void n(e=>({...e,error:"5-file upload limit reached"}));d(!0),n(e=>({...e,isLoading:!0}));try{let r=await x.current.uploadFile(e,f);await x.current.addFileMessage(t,f,r),h(e=>e+1)}catch(e){console.error("Failed to upload file:",e),n(e=>({...e,error:"Failed to upload file",isLoading:!1}))}finally{d(!1)}}},S=e=>{let{message:t}=e;return"file"===t.type?(0,s.jsxs)("div",{className:"message-content",children:[(0,s.jsx)(k.oz,{remarkPlugins:[v.A],children:t.content}),(e=>{let{fileMetadata:t}=e;if(!t)return null;let r=t.type.startsWith("image/"),n=(t.size/1024).toFixed(1)+" KB";return(0,s.jsx)("div",{className:"file-message",children:(0,s.jsxs)("div",{className:"file-info",children:[(0,s.jsxs)("div",{className:"file-header",children:[(0,s.jsx)("span",{className:"file-name",children:t.name}),(0,s.jsxs)("span",{className:"file-size",children:["(",n,")"]})]}),r?(0,s.jsx)("img",{src:t.url,alt:t.name,className:"file-preview-image",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:"8px"}}):(0,s.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"file-download-link",children:["\uD83D\uDCCE Download ",t.name]})]})})})(t)]}):(0,s.jsx)("div",{className:"message-content",children:(0,s.jsx)(k.oz,{remarkPlugins:[v.A],children:t.content})})};return(0,s.jsxs)("div",{className:"jsx-111e43e70844326e chat-container",children:[(0,s.jsxs)("div",{className:"jsx-111e43e70844326e chat-header",children:[(0,s.jsx)("h3",{className:"jsx-111e43e70844326e",children:"Chat"}),r.isLoading&&(0,s.jsx)("span",{className:"jsx-111e43e70844326e loading-indicator",children:"\uD83D\uDCAC"})]}),(0,s.jsxs)("div",{className:"jsx-111e43e70844326e chat-messages",children:[r.messages.map(e=>(0,s.jsxs)("div",{className:"jsx-111e43e70844326e "+"message ".concat(e.uid===f?"own-message":"other-message"),children:[(0,s.jsxs)("div",{className:"jsx-111e43e70844326e message-header",children:[(0,s.jsx)("span",{className:"jsx-111e43e70844326e message-author",children:e.userName}),(0,s.jsx)("span",{className:"jsx-111e43e70844326e message-time",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsx)(S,{message:e})]},e.id)),r.error&&(0,s.jsxs)("div",{className:"jsx-111e43e70844326e error-message",children:["❌ ",r.error]}),(0,s.jsx)("div",{ref:p,className:"jsx-111e43e70844326e"})]}),(0,s.jsxs)("div",{className:"jsx-111e43e70844326e chat-input-container",children:[(0,s.jsxs)("div",{className:"jsx-111e43e70844326e input-toolbar",children:[u>=5?(0,s.jsx)(y,{content:"5-file upload limit reached",position:"top",children:(0,s.jsx)("button",{disabled:!0,title:"Upload limit reached",className:"jsx-111e43e70844326e file-upload-button",children:"\uD83D\uDEAB"})}):(0,s.jsx)("button",{onClick:()=>{var e;return null==(e=m.current)?void 0:e.click()},disabled:c,title:"Upload file (".concat(u,"/").concat(5," used)"),className:"jsx-111e43e70844326e file-upload-button",children:c?"⏳":"\uD83D\uDCCE"}),(0,s.jsx)("input",{ref:m,type:"file",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&(N(r),m.current&&(m.current.value=""))},style:{display:"none"},accept:"image/*,.pdf,.doc,.docx,.txt,.md",className:"jsx-111e43e70844326e"})]}),(0,s.jsxs)("div",{className:"jsx-111e43e70844326e input-area",children:[(0,s.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b(a))},placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",rows:1,disabled:r.isLoading,className:"jsx-111e43e70844326e message-input"}),(0,s.jsx)("button",{onClick:()=>b(a),disabled:r.isLoading||!a.trim(),className:"jsx-111e43e70844326e send-button",children:"\uD83D\uDCE4"})]})]}),(0,s.jsx)(j(),{id:"111e43e70844326e",children:'.chat-container.jsx-111e43e70844326e{display:flex;flex-direction:column;height:400px;border:1px solid#e0e0e0;border-radius:8px;background:white;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.chat-header.jsx-111e43e70844326e{padding:12px 16px;border-bottom:1px solid#e0e0e0;background:#f8f9fa;display:flex;justify-content:space-between;align-items:center}.chat-header.jsx-111e43e70844326e h3.jsx-111e43e70844326e{margin:0;font-size:16px;font-weight:600}.loading-indicator.jsx-111e43e70844326e{font-size:14px;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.chat-messages.jsx-111e43e70844326e{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px}.message.jsx-111e43e70844326e{max-width:80%;padding:8px 12px;border-radius:12px;word-wrap:break-word}.own-message.jsx-111e43e70844326e{align-self:flex-end;background:#007bff;color:white}.other-message.jsx-111e43e70844326e{align-self:flex-start;background:#f1f3f4;color:#333}.message-header.jsx-111e43e70844326e{display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px;opacity:.8}.message-author.jsx-111e43e70844326e{font-weight:500}.message-time.jsx-111e43e70844326e{font-size:11px}.message-content.jsx-111e43e70844326e{line-height:1.4}.message-content.jsx-111e43e70844326e pre.jsx-111e43e70844326e{background:rgba(0,0,0,.1);padding:8px;border-radius:4px;overflow-x:auto;margin:4px 0}.message-content.jsx-111e43e70844326e code.jsx-111e43e70844326e{background:rgba(0,0,0,.1);padding:2px 4px;border-radius:3px;font-family:"Monaco","Consolas",monospace}.file-message.jsx-111e43e70844326e{margin-top:8px}.file-info.jsx-111e43e70844326e{background:rgba(255,255,255,.1);padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,.2)}.file-header.jsx-111e43e70844326e{display:flex;gap:8px;margin-bottom:8px;font-size:13px}.file-name.jsx-111e43e70844326e{font-weight:500}.file-size.jsx-111e43e70844326e{opacity:.7}.file-preview-image.jsx-111e43e70844326e{display:block;margin-top:4px}.file-download-link.jsx-111e43e70844326e{color:inherit;text-decoration:none;font-size:14px}.file-download-link.jsx-111e43e70844326e:hover{text-decoration:underline}.error-message.jsx-111e43e70844326e{padding:8px 12px;background:#fee;color:#c33;border-radius:6px;font-size:14px}.chat-input-container.jsx-111e43e70844326e{border-top:1px solid#e0e0e0;padding:12px;background:#f8f9fa}.input-toolbar.jsx-111e43e70844326e{margin-bottom:8px}.file-upload-button.jsx-111e43e70844326e{background:none;border:1px solid#ddd;border-radius:6px;padding:6px 10px;cursor:pointer;font-size:16px;transition:background.2s}.file-upload-button.jsx-111e43e70844326e:hover:not(:disabled){background:#f0f0f0}.file-upload-button.jsx-111e43e70844326e:disabled{opacity:.5;cursor:not-allowed}.input-area.jsx-111e43e70844326e{display:flex;gap:8px;align-items:flex-end}.message-input.jsx-111e43e70844326e{flex:1;min-height:36px;max-height:100px;padding:8px 12px;border:1px solid#ddd;border-radius:20px;resize:none;font-family:inherit;font-size:14px;line-height:1.4;outline:none}.message-input.jsx-111e43e70844326e:focus{border-color:#007bff}.send-button.jsx-111e43e70844326e{background:#007bff;color:white;border:none;border-radius:50%;width:36px;height:36px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:background.2s}.send-button.jsx-111e43e70844326e:hover:not(:disabled){background:#0056b3}.send-button.jsx-111e43e70844326e:disabled{background:#ccc;cursor:not-allowed}'})]})};class S extends i.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto h-24 w-24 text-red-500 mb-4",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Oops! Something went wrong"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"We're sorry, but there was an error loading this part of the application."}),!1,(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{onClick:this.handleRetry,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Try Again"}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Reload Page"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-6",children:"If this problem persists, please contact support."})]})})}):this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}}function C(){let{user:e,loading:t,error:r}=(0,o.J)(),[n,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{c((0,l.kK)())},[e]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Real-time Whiteboard"}),(0,s.jsx)("meta",{name:"description",content:"Collaborative whiteboard with chat"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{children:[(0,s.jsx)("h1",{children:"Real-time Whiteboard"}),(0,s.jsx)("p",{children:"Loading..."})]})]}):r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Real-time Whiteboard"}),(0,s.jsx)("meta",{name:"description",content:"Collaborative whiteboard with chat"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{children:[(0,s.jsx)("h1",{children:"Real-time Whiteboard"}),(0,s.jsxs)("p",{children:["Error: ",r]})]})]}):(0,s.jsx)(S,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Real-time Whiteboard"}),(0,s.jsx)("meta",{name:"description",content:"Collaborative whiteboard with chat"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{className:"min-h-screen bg-gray-50 grid grid-rows-[auto_1fr] lg:grid-cols-[2fr_1fr] lg:grid-rows-none gap-4 p-4",children:[(0,s.jsxs)("header",{className:"lg:col-span-2 flex justify-between items-center p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Real-time Whiteboard"}),e&&(0,s.jsx)("div",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:(0,s.jsxs)("span",{children:["User: ",e.uid.substring(0,8),"..."]})})]}),e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,s.jsx)(S,{children:(0,s.jsx)(g,{boardId:"default-board"})})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,s.jsx)(S,{children:(0,s.jsx)(N,{boardId:"default-board"})})})]})]})]})})}}},e=>{e.O(0,[82,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);